{% extends 'admin_navbar.html' %}
{% load static %}
{% block title %} All Students List {% endblock %}
{% block css %}
<style>
  /* Custom styles for better UX */
  .table-container { max-width: 100%; overflow-x: auto; padding: 20px; border: 1px solid #dee2e6; border-radius: 8px; background-color: #f8f9fa; }
  .table th, .table td { vertical-align: middle; text-align: center; }
  .table thead th { background-color: #e9ecef; font-weight: bold; }
  .table-hover tbody tr:hover { background-color: #f1f3f5; }
  .btn-danger { transition: background-color 0.2s ease; }
  .btn-danger:hover { background-color: #dc3545; }
  h1 { border-bottom: 2px solid #0d6efd; padding-bottom: 10px; } /* Stylish underline alternative */
</style>
{% endblock %}
{% block body %}
<div class="container mt-5 mb-5">
  <div class="table-container shadow-sm">
    <h1 class="text-center mb-4">Students List</h1>
    <div class="table-responsive">
      <table class="table table-hover table-striped" id="example" aria-label="List of All Students">
        <thead>
          <tr class="text-center">
            <th scope="col"><i class="bi bi-hash me-1"></i>Sr.No</th>
            <th scope="col"><i class="bi bi-person me-1"></i>Name</th>
            <th scope="col"><i class="bi bi-person-badge me-1"></i>ID</th>
            <th scope="col"><i class="bi bi-envelope me-1"></i>Email</th>
            <th scope="col"><i class="bi bi-phone me-1"></i>Mobile Number</th>
            <th scope="col"><i class="bi bi-diagram-3 me-1"></i>Branch</th>
            <th scope="col"><i class="bi bi-mortarboard me-1"></i>Class</th>
            <th scope="col"><i class="bi bi-123 me-1"></i>Roll Number</th>
            <th scope="col"><i class="bi bi-trash me-1"></i>Delete</th>
          </tr>
        </thead>
        <tbody>
          {% for student in students %}
          <tr class="text-center">
            <td>{{forloop.counter}}.</td>
            <td>{{student.user.get_full_name}}</td>
            <td>{{student.user.id}}</td>
            <td>{{student.user.email}}</td>
            <td>{{student.phone}}</td>
            <td>{{student.branch}}</td>
            <td>{{student.classroom}}</td>
            <td>{{student.roll_no}}</td>
            <td><a href="/delete_student/{{student.id}}/" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this student?')">Delete</a></td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
