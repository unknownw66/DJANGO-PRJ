{% extends "admin_navbar.html" %}  {# or basic.html depending on your layout #}
{% load static %}

{% block title %}Delete Issued Book{% endblock %}

{% block css %}
<style>
    .delete-container {
        max-width: 600px;
        margin: 5rem auto;
        padding: 2rem;
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        text-align: center;
    }
    .delete-container h2 {
        color: #b91c1c;
        font-weight: bold;
        margin-bottom: 1rem;
    }
    .delete-container p {
        font-size: 1rem;
        color: #374151;
        margin-bottom: 2rem;
    }
    .btn-cancel {
        margin-right: 1rem;
    }
</style>
{% endblock %}

{% block body %}
<div class="delete-container">
    <h2>Confirm Deletion</h2>
    <p>Are you sure you want to delete this issued book record?</p>
    
    {% if issue %}
        <p><strong>Book:</strong> {{ issue.book.name }}</p>
        <p><strong>Issued To:</strong> {{ issue.student.user.first_name }} {{ issue.student.user.last_name }}</p>
        <p><strong>Issued On:</strong> {{ issue.issue_date }}</p>
        <p><strong>Return Date:</strong> {{ issue.return_date }}</p>
    {% endif %}
    
    <form method="post">
        {% csrf_token %}
        <a href="{% url 'view_issued_book' %}" class="btn btn-secondary btn-cancel">Cancel</a>
        <button type="submit" class="btn btn-danger">Delete</button>
    </form>
</div>
{% endblock %}

{% block js %}
<script>
    // Optional: Confirmation popup before submit
    document.querySelector("form").addEventListener("submit", function(e) {
        if (!confirm("This action cannot be undone. Are you sure?")) {
            e.preventDefault();
        }
    });
</script>
{% endblock %}
